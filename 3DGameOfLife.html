<!DOCTYPE html>

<html>
	
	<head>
		<meta charset="utf-8" />
		<title id="myTitle">3D Conway's Game of Life</title>
		<link rel="stylesheet" type="text/css" href="styles.css">
		<script src="lib/webgl-utils.js"></script>
		<script src="lib/webgl-debug.js"></script>
		<script src="lib/cuon-utils.js"></script>
		<script src="lib/cuon-matrix.js"></script>
		<script src="game-draw.js"></script>
		<script src="game-htmlcontrols.js"></script>
		<script src="game.js"></script>
		<script id="shader-vs" type="x-shader/x-vertex">
			attribute vec4 a_Position;
			attribute vec4 a_Normal;
			attribute vec4 a_Color;
			
			uniform mat4 u_MMatrix;
			uniform mat4 u_MVPMatrix;
			uniform mat4 u_NormalMatrix;
			uniform vec3 u_LightColor;
			uniform vec3 u_LightPosition;
			uniform vec3 u_AmbientLight;
			
			varying vec4 v_Color;
			
			void main() {
				gl_Position = u_MVPMatrix * a_Position;
				
				vec3 normal = normalize((u_NormalMatrix * a_Normal).xyz);
				vec4 vertexPosition = u_MMatrix * a_Position;
				vec3 lightDirection = normalize(u_LightPosition - vec3(vertexPosition));
				float nDotL = max(dot(lightDirection, normal), 0.0);
				vec3 diffuse = u_LightColor * a_Color.rgb * nDotL;
				vec3 ambient = u_AmbientLight * a_Color.rgb;
				v_Color = vec4(diffuse + ambient, a_Color.a);
			}
		</script>
		<script id="shader-fs" type="x-shader/x-fragment">
			precision mediump float;
			
			varying vec4 v_Color;

			void main() {
				gl_FragColor = v_Color;
			}
    	</script>
	</head>
	<header id="myHeader">
		<h1 id="myh1">3D Game of Life</h1>
		<h3 id="myh5">Created By...<br></h2>
		<h2 id="myh5">Raphael Beaulieu<br>Elliot Coy</h2>
	</header>

	<canvas id="myWebGLCanvas" width="900" height="600" style="z-index:0;">Your browser does not support the canvas tag.</canvas>
	<canvas id="myHUDCanvas" width="900" height="600" style="z-index:1;">Your browser does not support the canvas tag.</canvas>
	<pageBorder width="300" height="600"></pageBorder>

	<body onload="main()" width="350" height="600">

		<hr></hr>
		<table id="myGameTable" style="width:350px; padding:0px;">
			<tr>
				<td id="myTextBoxes">
					Type of Life: B
					<input type="text" id="txtBVal" value="3" style="width:70px; vertical-align:middle;background-color:#15202b; color:#FFF;">
					S
					<input type="text" id="txtSVal" value="2,3" style="width:70px; vertical-align:bottom;background-color:#15202b; color:#FFF;">	
				</td>
		</table>
		<hr2></hr2>
		<table id="myButtonTable" style="width:100%; padding:0px;">
			<tr>
				<td id="myButtons">
					<button type="btnStart" style="width:100px;" onclick="gameStart()">Start</button>
					<button type="btnStop" style="width:100px;" onclick="gameStop()">Stop</button>
					<button type="btnClear" style="width:100px;" onclick="gameReset()">Reset</button>
				</td>
			</tr>
		</table>
		<table id="myPlayTable" style="width:350px; padding:0px;">
			<tr>
				<hr2></hr2>
				<td id="mySpeedRange" style="width:150px; text-align:left;">Update Speed: 
				</td>
				<td id="mySpeed" style="text-align:left;">	
				</td>
			</tr>
			<table>
				<input type="range" min="500" max="5000" value="1000" style="width:350px; vertical-align:middle;" oninput="setSpeed(this.value)">
			</table>
		</table>
		<hr></hr>
		<h4>Controls</h4>
		<h3>
					Q.......Elevate
			<br>	E.......Descend
			<br>	A.......Strafe Left
			<br>	D.......Strafe Right
			<br>	W.......Move Towards Look-At
			<br>	S.......Move Away From Look-At
			<br>	UP......Look Up
			<br>	DOWN....Look Down
			<br>	LEFT....Look Left
			<br>	RIGHT...Look Right
			<br>	SPACE...Lock-On To Center
		</h3>
	</body>
</html>